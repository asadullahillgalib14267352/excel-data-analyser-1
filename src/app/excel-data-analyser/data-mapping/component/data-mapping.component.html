<app-topbar [topBarData]="path"></app-topbar>
<div class="row margin25">
  <div class="col-md-6">
    <h3><b>Data Mapping</b></h3>
  </div>
  <div class="col-md-6">
    <h3 style="float: right;"><b>File Name: Employee.xlsx</b></h3>
  </div>
</div>
<br><br>

<mat-card style="background-color: #eeeeee;">
  <mat-card-content>
    <div class="content">
      <div class="row margin25">
        <section style="width: 50%; padding-left: 20%;">
          <p><b>Select Table: </b></p>
          <mat-form-field appearance="outline">
            <mat-select name="tableElement" placeholder="Select a table" (selectionChange)="onTableChange($event)">
              <mat-option *ngFor="let item of tables" [value]="item">{{item}}</mat-option>
            </mat-select>
          </mat-form-field>
        </section>

        <section style="width: 50%; padding-right: 20%;">
          <p><b>Mapper: </b></p>
          <mat-form-field appearance="outline">
            <mat-select name="periodicElement" placeholder="Select a mapper" [(ngModel)]="selectedMapperId"
              (selectionChange)="onMapperSelect($event)">
              <mat-option *ngFor="let mapperNameObj of mapperNameList" [value]="mapperNameObj._id">
                {{mapperNameObj.mapperName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </section>
      </div>

      <table-data-mapper *ngIf="showTable" [dbColumns]="dbColumnList" 
        [mappedContent] = "mappedContent" [excelHeaders]="excelHeaderList"
        [mappedTableColumns]="mappedTableColumns" 
        (saveMappingEvent)="onSaveMapping($event)"
        (viewMapperEvent)="onViewMapping($event)"
        (removeMappedColumnEvent)="removeMappedColumn($event)"></table-data-mapper>
    </div>
  </mat-card-content>


</mat-card>

<view-data-mapper *ngIf="showMapperView" [headers]="headers" [tabledata]="tabledata"></view-data-mapper>

<!-- <p-dialog header="Title" [(visible)]="displayDialog" [style]="{width: '50vw'}">
    <mat-card>
  
    </mat-card>
  </p-dialog> -->